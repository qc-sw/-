## 使用

请使用matlab运行根目录下的start。

要新建文件夹请在start中将其加为路径，保证其他函数的纯净。

gui文件夹中保存的为gui界面的代码

训练和测试保存在train文件夹中

图像预处理函数保存在image processing文件夹中

如果需要大量处理图片可以使用'train/change'进行处理。change可以读入一个文件夹中的所有图片

cnn中保存的是训练完的网络

运行中的图片保存于两个中文命名的文件夹中，没有写成全局变量，修改时请注意。

## 代码

没啥好说的都有注释

### GUI

有些按钮的key没有修改，请注意修改

### 图像处理

#### 边缘提取

函数名为edge_canny

这里介绍参数：

I：图片

gaussDim，sigma：高斯滤波器

percentOfPixelsNotEdges,thresholdRatio：双阈值

#### 图像分割

函数名为fenge

注意生成的图像识别rgb的。

#### 叠加

函数名为diejia

注意使用时区分rgb图像和灰度图。图像类型不同会报错，注意处理。

这里只用了灰度图。

### 训练

train函数被注释掉的6-46行为现在使用的神经网络的结构，是一个有3个卷积层2个全连接层的网络，如需修改，请注释47-58行再对6-46进行修改，在训练完成后的'myRCNN'即为训练完成的网络。命名为‘myRCNN.mat’保存在当前文件夹

### 识别

识别使用的绘图函数为draw

score为识别的阈值，初始设定为0.1